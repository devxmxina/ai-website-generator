
# app/i18n.py
translations = {
    "English": {
        "Settings": "Settings",
        "API Key": "API Key",
        "Enter your Gemini API key": "Enter your Gemini API key",
        "Configure API Key": "Configure API Key",
        "Your API key is used to communicate with the Gemini AI model. It is not stored.": "Your API key is used to communicate with the Gemini AI model. It is not stored.",
        "API Key configured successfully!": "API Key configured successfully!",
        "Failed to configure API Key: Please check your key. Error: {}": "Failed to configure API Key: Please check your key. Error: {}",
        "Please enter an API key.": "Please enter an API key.",
        "API Key is active.": "API Key is active.",
        "API Key not configured.": "API Key not configured.",
        "Download Website JSON": "Download Website JSON",
        "AI Website Generator": "AI Website Generator",
        "Fill in the details below to generate a website structure using AI.": "Fill in the details below to generate a website structure using AI.",
        "Please configure your Gemini API key in the sidebar to proceed.": "Please configure your Gemini API key in the sidebar to proceed.",
        "Generate Website Structure": "Generate Website Structure",
        "ü§ñ AI is thinking... Please wait.": "ü§ñ AI is thinking... Please wait.",
        "üéâ Website structure generated successfully!": "üéâ Website structure generated successfully!",
        "Critical error: AI response was not valid JSON, though it passed initial checks. This should not happen.": "Critical error: AI response was not valid JSON, though it passed initial checks. This should not happen.",
        "üëÅÔ∏è‚Äçüó®Ô∏è Generated Website Structure (JSON Preview)": "üëÅÔ∏è‚Äçüó®Ô∏è Generated Website Structure (JSON Preview)",
        "Project Overview Details": "Project Overview Details",
        "Company Name": "Company Name",
        "Industry": "Industry",
        "AI Summary": "AI Summary",
        "Suggested Tagline": "Suggested Tagline",
        "Logo Concept": "Logo Concept",
        "üé® Suggested Global Styles": "üé® Suggested Global Styles",
        "Color Palette": "Color Palette",
        "üìÑ Page Structure Overview": "üìÑ Page Structure Overview",
        "Page": "Page",
        "Page ID": "Page ID",
        "Section": "Section",
        "Headline": "Headline",
        "Subheadline": "Subheadline",
        "Error displaying detailed breakdown: {}": "Error displaying detailed breakdown: {}",
        
        # Form translations
        "Enter Website Details": "Enter Website Details",
        "Company or Project Name": "Company or Project Name",
        "Select Industry": "Select Industry",
        "Content Strategy": "Content Strategy",
        "Do you have existing content (text, PDF, link)?": "Do you have existing content (text, PDF, link)?",
        "No, please generate content": "No, please generate content",
        "Yes, I will provide content later (AI will generate placeholders)": "Yes, I will provide content later (AI will generate placeholders)",
        "I have no specific project description, suggest based on industry and style": "I have no specific project description, suggest based on industry and style",
        "Describe your company/project/service or goal": "Describe your company/project/service or goal",
        "Branding & Design Preferences": "Branding & Design Preferences",
        "Do you want AI to suggest a concept for a logo?": "Do you want AI to suggest a concept for a logo?",
        "Do you have an existing brand book/style guide?": "Do you have an existing brand book/style guide?",
        "Choose a general visual style": "Choose a general visual style",
        "Website Structure": "Website Structure",
        "Let AI decide the number of pages": "Let AI decide the number of pages",
        "AI will decide": "AI will decide",
        "Number of pages": "Number of pages",
        "How many pages do you want?": "How many pages do you want?",
        "Choose icon style": "Choose icon style",
        "Button Shape": "Button Shape",
        "Preferred image characteristics (optional)": "Preferred image characteristics (optional)",
        
        # Error messages
        "AI response was empty or invalid": "AI response was empty or invalid",
        "Generated JSON has invalid structure": "Generated JSON has invalid structure",  
        "AI generated invalid JSON format": "AI generated invalid JSON format",
        "Error occurred during AI generation": "Error occurred during AI generation"
    },
    "–†—É—Å—Å–∫–∏–π": {
        "Settings": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        "API Key": "API –ö–ª—é—á",
        "Enter your Gemini API key": "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Gemini API –∫–ª—é—á",
        "Configure API Key": "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å API –ö–ª—é—á",
        "Your API key is used to communicate with the Gemini AI model. It is not stored.": "–í–∞—à API –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑–∏ —Å –º–æ–¥–µ–ª—å—é Gemini AI. –û–Ω –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.",
        "API Key configured successfully!": "API –∫–ª—é—á —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!",
        "Failed to configure API Key: Please check your key. Error: {}": "–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –∫–ª—é—á. –û—à–∏–±–∫–∞: {}",
        "Please enter an API key.": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á.",
        "API Key is active.": "API –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω.",
        "API Key not configured.": "API –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω.",
        "Download Website JSON": "–°–∫–∞—á–∞—Ç—å JSON —Å–∞–π—Ç–∞",
        "AI Website Generator": "AI –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –°–∞–π—Ç–æ–≤",
        "Fill in the details below to generate a website structure using AI.": "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –Ω–∏–∂–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–∞ —Å –ø–æ–º–æ—â—å—é AI.",
        "Please configure your Gemini API key in the sidebar to proceed.": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à Gemini API –∫–ª—é—á –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è.",
        "Generate Website Structure": "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –°—Ç—Ä—É–∫—Ç—É—Ä—É –°–∞–π—Ç–∞",
        "ü§ñ AI is thinking... Please wait.": "ü§ñ AI –¥—É–º–∞–µ—Ç... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ.",
        "üéâ Website structure generated successfully!": "üéâ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∞–π—Ç–∞ —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞!",
        "Critical error: AI response was not valid JSON, though it passed initial checks. This should not happen.": "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: –û—Ç–≤–µ—Ç AI –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º JSON, —Ö–æ—Ç—è –ø—Ä–æ—à–µ–ª –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏. –≠—Ç–æ–≥–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å.",
        "üëÅÔ∏è‚Äçüó®Ô∏è Generated Website Structure (JSON Preview)": "üëÅÔ∏è‚Äçüó®Ô∏è –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –°–∞–π—Ç–∞ (–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä JSON)",
        "Project Overview Details": "–î–µ—Ç–∞–ª–∏ –û–±–∑–æ—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞",
        "Company Name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ö–æ–º–ø–∞–Ω–∏–∏",
        "Industry": "–ò–Ω–¥—É—Å—Ç—Ä–∏—è",
        "AI Summary": "AI –†–µ–∑—é–º–µ",
        "Suggested Tagline": "–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π –°–ª–æ–≥–∞–Ω",
        "Logo Concept": "–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –õ–æ–≥–æ—Ç–∏–ø–∞",
        "üé® Suggested Global Styles": "üé® –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –°—Ç–∏–ª–∏",
        "Color Palette": "–¶–≤–µ—Ç–æ–≤–∞—è –ü–∞–ª–∏—Ç—Ä–∞",
        "üìÑ Page Structure Overview": "üìÑ –û–±–∑–æ—Ä –°—Ç—Ä—É–∫—Ç—É—Ä—ã –°—Ç—Ä–∞–Ω–∏—Ü",
        "Page": "–°—Ç—Ä–∞–Ω–∏—Ü–∞",
        "Page ID": "ID –°—Ç—Ä–∞–Ω–∏—Ü—ã",
        "Section": "–°–µ–∫—Ü–∏—è",
        "Headline": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
        "Subheadline": "–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫",
        "Error displaying detailed breakdown: {}": "–û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞: {}",
        
        # Form translations
        "Enter Website Details": "–í–≤–µ–¥–∏—Ç–µ –î–µ—Ç–∞–ª–∏ –°–∞–π—Ç–∞",
        "Company or Project Name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ö–æ–º–ø–∞–Ω–∏–∏ –∏–ª–∏ –ü—Ä–æ–µ–∫—Ç–∞",
        "Select Industry": "–í—ã–±–µ—Ä–∏—Ç–µ –ò–Ω–¥—É—Å—Ç—Ä–∏—é",
        "Content Strategy": "–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ö–æ–Ω—Ç–µ–Ω—Ç–∞",
        "Do you have existing content (text, PDF, link)?": "–£ –≤–∞—Å –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–µ–∫—Å—Ç, PDF, —Å—Å—ã–ª–∫–∞)?",
        "No, please generate content": "–ù–µ—Ç, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç",
        "Yes, I will provide content later (AI will generate placeholders)": "–î–∞, —è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—é –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ–∑–∂–µ (AI —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–∏)",
        "I have no specific project description, suggest based on industry and style": "–£ –º–µ–Ω—è –Ω–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –∏ —Å—Ç–∏–ª—è",
        "Describe your company/project/service or goal": "–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∫–æ–º–ø–∞–Ω–∏—é/–ø—Ä–æ–µ–∫—Ç/—Å–µ—Ä–≤–∏—Å –∏–ª–∏ —Ü–µ–ª—å",
        "Branding & Design Preferences": "–ë—Ä–µ–Ω–¥–∏–Ω–≥ –∏ –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è",
        "Do you want AI to suggest a concept for a logo?": "–•–æ—Ç–∏—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ–±—ã AI –ø—Ä–µ–¥–ª–æ–∂–∏–ª –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –ª–æ–≥–æ—Ç–∏–ø–∞?",
        "Do you have an existing brand book/style guide?": "–£ –≤–∞—Å –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∫–Ω–∏–≥–∞ –±—Ä–µ–Ω–¥–∞/—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å—Ç–∏–ª—é?",
        "Choose a general visual style": "–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—â–∏–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å",
        "Website Structure": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –°–∞–π—Ç–∞",
        "Let AI decide the number of pages": "–ü–æ–∑–≤–æ–ª—å—Ç–µ AI —Ä–µ—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü",
        "AI will decide": "AI —Ä–µ—à–∏—Ç",
        "Number of pages": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü",
        "How many pages do you want?": "–°–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü –≤—ã —Ö–æ—Ç–∏—Ç–µ?",
        "Choose icon style": "–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –∏–∫–æ–Ω–æ–∫",
        "Button Shape": "–§–æ—Ä–º–∞ –ö–Ω–æ–ø–æ–∫",
        "Preferred image characteristics (optional)": "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
        
        # Error messages
        "AI response was empty or invalid": "–û—Ç–≤–µ—Ç AI –±—ã–ª –ø—É—Å—Ç—ã–º –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º",
        "Generated JSON has invalid structure": "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON –∏–º–µ–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É",
        "AI generated invalid JSON format": "AI —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON",
        "Error occurred during AI generation": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI"
    },
    "Rom√¢nƒÉ": {
        "Settings": "SetƒÉri",
        "API Key": "Cheie API",
        "Enter your Gemini API key": "Introduce»õi cheia API Gemini",
        "Configure API Key": "Configura»õi Cheia API",
        "Your API key is used to communicate with the Gemini AI model. It is not stored.": "Cheia API este folositƒÉ pentru a comunica cu modelul Gemini AI. Nu este stocatƒÉ.",
        "API Key configured successfully!": "Cheia API a fost configuratƒÉ cu succes!",
        "Failed to configure API Key: Please check your key. Error: {}": "Nu s-a putut configura Cheia API: Verifica»õi cheia. Eroare: {}",
        "Please enter an API key.": "VƒÉ rugƒÉm sƒÉ introduce»õi o cheie API.",
        "API Key is active.": "Cheia API este activƒÉ.",
        "API Key not configured.": "Cheia API nu este configuratƒÉ.",
        "Download Website JSON": "DescƒÉrcare JSON Website",
        "AI Website Generator": "Generator Website AI",
        "Fill in the details below to generate a website structure using AI.": "Completa»õi detaliile de mai jos pentru a genera o structurƒÉ de website folosind AI.",
        "Please configure your Gemini API key in the sidebar to proceed.": "VƒÉ rugƒÉm sƒÉ configura»õi cheia API Gemini √Æn bara lateralƒÉ pentru a continua.",
        "Generate Website Structure": "Generare StructurƒÉ Website",
        "ü§ñ AI is thinking... Please wait.": "ü§ñ AI se g√¢nde»ôte... VƒÉ rugƒÉm sƒÉ a»ôtepta»õi.",
        "üéâ Website structure generated successfully!": "üéâ Structura website-ului a fost generatƒÉ cu succes!",
        "Critical error: AI response was not valid JSON, though it passed initial checks. This should not happen.": "Eroare criticƒÉ: RƒÉspunsul AI nu a fost JSON valid, de»ôi a trecut verificƒÉrile ini»õiale. Acest lucru nu ar trebui sƒÉ se √Ænt√¢mple.",
        "üëÅÔ∏è‚Äçüó®Ô∏è Generated Website Structure (JSON Preview)": "üëÅÔ∏è‚Äçüó®Ô∏è Structura Website GeneratƒÉ (Previzualizare JSON)",
        "Project Overview Details": "Detalii Prezentare Proiect",
        "Company Name": "Numele Companiei",
        "Industry": "Industria",
        "AI Summary": "Rezumat AI",
        "Suggested Tagline": "Slogan Sugerat",
        "Logo Concept": "Conceptul Logo-ului",
        "üé® Suggested Global Styles": "üé® Stiluri Globale Sugerate",
        "Color Palette": "Paleta de Culori",
        "üìÑ Page Structure Overview": "üìÑ Prezentarea Structurii Paginilor",
        "Page": "PaginƒÉ",
        "Page ID": "ID PaginƒÉ",
        "Section": "Sec»õiune",
        "Headline": "Titlu Principal",
        "Subheadline": "Subtitlu",
        "Error displaying detailed breakdown: {}": "Eroare la afi»ôarea defalcƒÉrii detaliate: {}",
        
        # Form translations
        "Enter Website Details": "Introduce»õi Detaliile Website-ului",
        "Company or Project Name": "Numele Companiei sau Proiectului",
        "Select Industry": "Selecta»õi Industria",
        "Content Strategy": "Strategia de Con»õinut",
        "Do you have existing content (text, PDF, link)?": "Ave»õi con»õinut existent (text, PDF, link)?",
        "No, please generate content": "Nu, vƒÉ rugƒÉm sƒÉ genera»õi con»õinut",
        "Yes, I will provide content later (AI will generate placeholders)": "Da, voi furniza con»õinutul mai t√¢rziu (AI va genera substituen»õi)",
        "I have no specific project description, suggest based on industry and style": "Nu am o descriere specificƒÉ a proiectului, sugera»õi pe baza industriei »ôi stilului",
        "Describe your company/project/service or goal": "Descrie»õi compania/proiectul/serviciul sau obiectivul dumneavoastrƒÉ",
        "Branding & Design Preferences": "Preferin»õe de Branding »ôi Design",
        "Do you want AI to suggest a concept for a logo?": "Dori»õi ca AI sƒÉ sugereze un concept pentru un logo?",
        "Do you have an existing brand book/style guide?": "Ave»õi un ghid de brand/stil existent?",
        "Choose a general visual style": "Alege»õi un stil vizual general",
        "Website Structure": "Structura Website-ului",
        "Let AI decide the number of pages": "LƒÉsa»õi AI sƒÉ decidƒÉ numƒÉrul de pagini",
        "AI will decide": "AI va decide",
        "Number of pages": "NumƒÉrul de pagini",
        "How many pages do you want?": "C√¢te pagini dori»õi?",
        "Choose icon style": "Alege»õi stilul icoanelor",
        "Button Shape": "Forma Butoanelor",
        "Preferred image characteristics (optional)": "Caracteristicile preferate ale imaginilor (op»õional)",
        
        # Error messages
        "AI response was empty or invalid": "RƒÉspunsul AI a fost gol sau invalid",
        "Generated JSON has invalid structure": "JSON-ul generat are o structurƒÉ invalidƒÉ",
        "AI generated invalid JSON format": "AI a generat un format JSON invalid",
        "Error occurred during AI generation": "A apƒÉrut o eroare √Æn timpul generƒÉrii AI"
    }
}

def get_translator(language="English"):
    """Retrieves a translator function for the specified language"""
    lang_dict = translations.get(language, translations["English"])
    default_lang_dict = translations["English"]
    
    def translate(key_string):
        # If the string contains {} for formatting, handle it separately
        if '{}' in key_string:
            # Search for the base string without {} in translations
            base_key = key_string.replace('{}', '').strip()
            for key, value in lang_dict.items():
                if '{}' in key and key.replace('{}', '').strip() == base_key:
                    return value
            # If not found, search in English
            for key, value in default_lang_dict.items():
                if '{}' in key and key.replace('{}', '').strip() == base_key:
                    return value
        
        return lang_dict.get(key_string, default_lang_dict.get(key_string, key_string))
    
    return translate